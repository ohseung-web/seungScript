<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>자바스크립트 종합 실습</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }
      button {
        margin: 5px;
        padding: 5px 10px;
      }
      .tab {
        display: none;
        margin-top: 10px;
      }
      .active {
        display: block;
      }
      .pass {
        color: green;
      }
      .fail {
        color: red;
      }
      .low-stock {
        color: red;
      }
      .high {
        color: red;
      }
      .low {
        color: blue;
      }
      table,
      th,
      td {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
      }
      .winner {
        font-weight: bold;
        color: green;
      }
      .recommend {
        font-weight: bold;
        color: purple;
      }
    </style>
  </head>
  <body>
    <h1>자바스크립트 종합 실습</h1>

    <!-- 탭 버튼 -->
    <button onclick="showTab(1)">문제 1. 학생 성적표</button>
    <button onclick="showTab(2)">문제 2. 책 재고</button>
    <button onclick="showTab(3)">문제 3. 상품 가격</button>
    <button onclick="showTab(4)">문제 4. 투표 집계</button>
    <button onclick="showTab(5)">문제 5. 영화 평점</button>

    <!-- 문제 영역 -->
    <div id="tab1" class="tab">
      <h2>학생 성적표</h2>
      <button onclick="showGrades()">성적표 출력</button>
      <div id="output1"></div>
    </div>

    <div id="tab2" class="tab">
      <h2>책 재고 현황</h2>
      <button onclick="checkStock()">재고 확인</button>
      <div id="output2"></div>
    </div>

    <div id="tab3" class="tab">
      <h2>상품 가격 비교</h2>
      <button onclick="showProducts()">상품 출력</button>
      <div id="output3"></div>
    </div>

    <div id="tab4" class="tab">
      <h2>투표 집계</h2>
      <button onclick="voteResult()">투표 집계</button>
      <div id="output4"></div>
    </div>

    <div id="tab5" class="tab">
      <h2>영화 평점 분석</h2>
      <button onclick="movieRating()">평점 확인</button>
      <div id="output5"></div>
    </div>

    <script>
      // 탭 기능
      function showTab(num) {
        for (let i = 1; i <= 5; i++) {
          document.getElementById('tab' + i).classList.remove('active');
        }
        document.getElementById('tab' + num).classList.add('active');
      }

      // 문제 1
      function showGrades() {
        let students = ['철수', '영희', '민수', '수지', '준호'];
        let scores = [85, 58, 92, 77, 61];
        let result = '';
        for (let i = 0; i < students.length; i++) {
          let status = scores[i] >= 60 ? '합격' : '불합격';
          let className = scores[i] >= 60 ? 'pass' : 'fail';
          result +=
            students[i] +
            ' : ' +
            scores[i] +
            "점 - <span class='" +
            className +
            "'>" +
            status +
            '</span><br>';
        }
        document.getElementById('output1').innerHTML = result;
      }

      // 문제 2
      function checkStock() {
        let books = [
          '자바스크립트 입문',
          'HTML & CSS',
          '파이썬 기초',
          '데이터 분석',
        ];
        let stock = [10, 3, 7, 2];
        let result = '';
        for (let i = 0; i < books.length; i++) {
          let status = stock[i] <= 5 ? '재고 부족' : '재고 충분';
          let className = stock[i] <= 5 ? 'low-stock' : '';
          result +=
            books[i] +
            ' : ' +
            stock[i] +
            "권 - <span class='" +
            className +
            "'>" +
            status +
            '</span><br>';
        }
        document.getElementById('output2').innerHTML = result;
      }

      // 문제 3
      function showProducts() {
        let products = ['노트북', '마우스', '모니터', '키보드'];
        let prices = [120000, 30000, 80000, 40000];
        let result = '<table><tr><th>상품</th><th>가격</th><th>등급</th></tr>';
        for (let i = 0; i < products.length; i++) {
          let grade = prices[i] >= 50000 ? '고가' : '저가';
          let className = prices[i] >= 50000 ? 'high' : 'low';
          result +=
            '<tr><td>' +
            products[i] +
            '</td><td>' +
            prices[i] +
            "원</td><td class='" +
            className +
            "'>" +
            grade +
            '</td></tr>';
        }
        result += '</table>';
        document.getElementById('output3').innerHTML = result;
      }

      // 문제 4
      function voteResult() {
        let candidates = ['철수', '영희', '민수'];
        let votes = [120, 150, 90];
        let maxVotes = 0;
        let winnerIndex = 0;
        let result = '';
        for (let i = 0; i < candidates.length; i++) {
          if (votes[i] > maxVotes) {
            maxVotes = votes[i];
            winnerIndex = i;
          }
        }
        for (let i = 0; i < candidates.length; i++) {
          let className = i === winnerIndex ? 'winner' : '';
          result +=
            candidates[i] +
            ' : ' +
            votes[i] +
            "표 <span class='" +
            className +
            "'>" +
            (i === winnerIndex ? '1등' : '') +
            '</span><br>';
        }
        document.getElementById('output4').innerHTML = result;
      }

      // 문제 5
      function movieRating() {
        let movies = ['어벤져스', '인셉션', '기생충', '라라랜드'];
        let ratings = [9, 8, 10, 7];
        let result = '';
        for (let i = 0; i < movies.length; i++) {
          let status = ratings[i] >= 8 ? '추천' : '';
          let className = ratings[i] >= 8 ? 'recommend' : '';
          result +=
            movies[i] +
            ' : ' +
            ratings[i] +
            "점 <span class='" +
            className +
            "'>" +
            status +
            '</span><br>';
        }
        document.getElementById('output5').innerHTML = result;
      }
    </script>
  </body>
</html>
